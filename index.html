<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>任航琦的个人简历</title>
	<link rel="stylesheet" href="a.css">
	<link rel="stylesheet" type="text/css" href="loading.css">
	<style type="text/css">
	.site-welcome {
		display: none;
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: #888;
		z-index: 1;
		justify-content: center;
		align-items: center;
	}
	.site-welcome.active {
	display:flex;
}
</style>
</head>
<body>
	<div id="setWelcome" class="site-welcome active">
		<div class="loading"></div>
	</div>
	
	<div id=topNavBar class="topNav">
	<div class="topNavBar clearfix">
		<a href="#" class="logo" style="float: left;">
		<span class="rs">RS</span> <span class="topcard">card</span>
		</a>
		<nav class="menu" style="float:right;">
			<ul class="clearfix">
				<li><a href="#siteAbout">关于</a></li>
				<li><a href="#siteSkills">技能</a></li>
				<li><a href="#siteWorks">作品</a>
				<ul class="submenu">
					<li>作品1</li>
					<li>作品2</li>
					<li>作品3</li>
				</ul>
				</li>
				<li><a href="#">博客</a>
				<ul class="submenu">
					<li>博客1</li>
					<li>博客2</li>
					<li>博客3</li>
				</ul>
				</li>
				<li><a href="#">日历</a></li>
				<li><a href="#">联系方式</a></li>
				<li><a href="#">其他</a></li>
			</ul>
		</nav>
	</div>
	</div>
	<div class="banner">
	 <div class="mask">
	 </div>
	</div>

	<main style="margin-top: -340px;">
		<div data-x id="siteAbout" class="card">
			<div class="maincard clearfix">
				<div class="picture"><img src="img/avatar.jpg" alt="头像"></div>
				<div class="text">
					<span class="hello">Hello
					<span class="triangle">
					</span>
					</span>
					<h1 style="margin-top: 18px">任航琦</h1>
					<p>前端开发工程师</p>
					<hr>
					<dl>
						<dt>年龄</dt>
						<dd>25</dd>
						<dt>所在城市</dt>
						<dd>武汉</dd>
						<dt>邮箱</dt>
						<dd>877897010@qq.com</dd>
						<dt>手机</dt>
						<dd>15211186325</dd>
					</dl>
				</div>
			</div>
			<div class="media">
				<a href="#" class="iconfont">
					&#xeee2;
          		</a>
				<a href="#" class="iconfont">
					&#xecb3;
				</a>
				<a href="#" class="iconfont">
					&#xe699;
				</a>
			</div>
		</div>
		<div class="button-wrap">
			<a href="resume.pdf" class="button" target="_blank" download>下载pdf 简历</a>
		</div>
		<p class="selfintro">任航琦， 前端工程师，现在在 饥人谷 前端课程学习。<br>技能:前端开发 css html js</p>
	</main>
	<section data-x id="siteSkills" class="skill">
		<h2>技能</h2>
		<ol class="clearfix">
			<li>
				<h3>HTML 5 &amp; CSS 3</h3>
			 <div class="progressBar">
         		 <div class="progress" style="width: 10%;"></div>
        	</div></li>
			<li>	
				<h3>JavaScript</h3> 
				<div class="progressBar">
     				 <div class="progress" style="width: 10%;"></div>
        		</div>
        	</li>
			<li>
				<h3>jQuery</h3> 
				<div class="progressBar">
     		 		<div class="progress" style="width: 20%;"></div>
        		</div>
        	</li>
			<li>
				<h3>Vue</h3> 
				<div class="progressBar">
          			<div class="progress" style="width: 30%;"></div>
        		</div>
        	</li>
			<li>
				<h3>React</h3>
				 <div class="progressBar">
      				<div class="progress" style="width: 40%;"></div>
        		</div>
        	</li>
			<li>
				<h3>HTTP</h3>
				<div class="progressBar">
      				<div class="progress" style="width: 50%;"></div>
       			 </div>
   			</li>
		</ol>
	</section>
	<section data-x id="siteWorks" class="works">
		<h2>作品集</h2>
		<nav>
		<ol class="clearfix">
			<li id="worksbranch1">所有</li>
			<li id="worksbranch2">框架</li>
			<li id="worksbranch3">原生JS&amp;CSS</li>
		</ol>
		<div class="bar worksbar1" id="worksbar">
			<div class="bar-inner"></div>
		</div>
	</nav>

	<script>
		worksbranch1.onclick= function() {
			worksbar.className = 'bar worksbar1'
		}
		worksbranch2.onclick= function() {
			worksbar.className = 'bar worksbar2'
		}
		worksbranch3.onclick= function() {
			worksbar.className = 'bar worksbar3'
		}
	</script>
	<div class="pic">
      <div class="big" style="top: 0; left: 0;">
        <img src="./img/1.jpg" alt="作品1">
      </div>
      <div class="small" style="top: 0; right:0;">
        <img src="./img/2.jpg" alt="作品2">
      </div>
      <div class="small" style="bottom: 0; right: 0;">
        <img src="./img/3.jpg" alt="作品3">
      </div>
    </div>
	</section>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
	<script>

		setTimeout(function(){
			setWelcome.classList.remove('active')},1000)
		//添加offset类
		let specialTags = document.querySelectorAll('[data-x]')
		for(let i =0;	i<specialTags.length;	i++){
			specialTags[i].classList.add('offset')
		}
		setTimeout(function(){
			findClosest()
		},1000)
		
		window.onscroll = function(xxxxx){
			if(window.scrollY > 0){
				topNavBar.classList.add('sticky')
			}else{
				topNavBar.classList.remove('sticky')
			}	
			findClosest()
		}	
			function findClosest(){
				let specialTags = document.querySelectorAll('[data-x]')
			let minIndex = 0
			for(let i=0;i<specialTags.length; i++){
				if(Math.abs(specialTags[i].offsetTop-window.scrollY)<Math.abs(specialTags[minIndex].offsetTop-window.scrollY)){
					minIndex=i
					}	
				}
					// minIndex是离窗口最近的元素
				specialTags[minIndex].classList.remove('offset')	
				for(let i=0;i<specialTags.length;i++){
					specialTags[i].classList.remove('active')
				}
				specialTags[minIndex].classList.add('active')
				let id = specialTags[minIndex].id
				let a = document.querySelector('a[href="#'+ id +'"]')
				let li = a.parentNode
				let brothersAndMe = li.parentNode.children
				for(let i=0;i<brothersAndMe.length;i++){
					brothersAndMe[i].classList.remove('highlight')
				}
				li.classList.add('highlight')
			}
		let liTags = document.querySelectorAll('nav.menu >ul >li')
		for(let i=0; i<liTags.length; i++){
			liTags[i].onmouseenter = function(x){
				x.currentTarget.classList.add('active')
			}
			liTags[i].onmouseleave = function(x){
				x.currentTarget.classList.remove('active')
			}
		}
		let aTags = document.querySelectorAll('nav.menu >ul > li >a')
		function animate(time) {
				    requestAnimationFrame(animate);
				    TWEEN.update(time);
				}
				requestAnimationFrame(animate);

		for(let i=0;i<aTags.length;i++){
			aTags[i].onclick = function(x){
				x.preventDefault()
				let a = x.currentTarget
				let href = a.getAttribute('href')
				let element = document.querySelector(href)
				let top = element.offsetTop

				let currentTop = window.scrollY
				let targetTop = top-80
				let s = targetTop-currentTop;
				var coords = { y:currentTop};
				var t = Math.abs((s/100)*300)
				if(t>500){t=500}
				var tween = new TWEEN.Tween(coords) 
				        .to({y:targetTop},t) 
				        .easing(TWEEN.Easing.Quadratic.InOut) 
				        .onUpdate(function() { 
				           window.scrollTo(0,coords.y)
				        })
				        .start(); 
							}
						}
	</script>

</body>
</html>
